<% var upBtnClass = (album.get('upvoted')) ? 'btn-success' : 'btn-default' %>
<% var downBtnClass = (album.get('downvoted')) ? 'btn-success' : 'btn-default' %>
<% var favBtnClass = (album.get('favorited')) ? 'btn-success' : 'btn-default' %>

<div class="col-lg-8">

  <h1><%= album.escape('title') %></h1>
  <h4><%= album.escape('description') %></h4>

  <p>created by: 
    <a href="<%= '#/users/' + album.get('creator_id') %>">
      <%= album.get('creator').username %>
    </a> | 
  points: <%= album.escape('points') %></p>
  
  <button 
    type="button" 
    class="upvote btn <%= upBtnClass %>"
    data-url="<%= 'albums/' + album.id + '/upvote' %>">upvote</button>
  <button 
    type="button" 
    class="downvote btn <%= downBtnClass %>"
    data-url="<%= 'albums/' + album.id + '/downvote' %>">downvote</button>
  <button 
    type="button" 
    class="favorite btn <%= favBtnClass %>"
    data-url="<%= 'albums/' + album.id + '/favorite' %>">favorite</button>
  <hr>

  <% album.get('images').each(function (image) { %>
    <h3><%= image.escape('title') %></h3>
    
    <!-- link to show page/large modal view thing here  -->
    <div class="center">
      <img class="img-thumbnail" src="<%= image.escape('url_medium') %>">
    </div>
    <p><%= image.escape('description') %></p>
  <% }); %>


  <hr>
<!-- edit album link goes here -->
  <button 
    type="button" 
    data-toggle="modal" 
    data-target="#comment-modal">add a comment</button>
  
  <h2>comments:</h2>
  <% if (album.get('comments').length > 0) { %>

    <%= JST['albums/_comments']({
          album: album, 
          comments: album.getCommentsByParentId()[null]
        }) %>

  <% } else { %>
    <%= "<h4>no comments yet :(</h4><br>" %> 
  <% } %>
</div>


<div class="modal fade" id="comment-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">add a comment</h4>
      </div>
        <form class="form-group">
          <input 
            type="hidden" 
            name="comment[parent_comment_id]" 
            value="<%= (typeof(comment) === 'undefined') ? null : comment.id %>">
          <div class="modal-body">
            <label for="comment-body">put the text in here okay:</label>
            <textarea name="comment[body]" class="form-control" id="comment-body" rows="10"></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">cancel</button>
            <button type="submit" class="btn btn-primary submit" data-dismiss="modal">submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>